<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="ACTIVITY" height="902px" preserveAspectRatio="none" style="width:498px;height:902px;background:#FFFFFF;" version="1.1" viewBox="0 0 498 902" width="498px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="61.2969" style="stroke:#000000;stroke-width:1.5;" width="54.9795" x="363.9307" y="11"/><path d="M408.9102,11 L408.9102,20.2969 L398.9102,30.2969 L363.9307,30.2969" fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34.9795" x="366.9307" y="24.9951">main</text><ellipse cx="391.4204" cy="50.2969" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"/><polygon fill="#F1F1F1" points="355.3491,92.2969,437.4917,92.2969,427.4917,123.25,437.4917,154.2031,355.3491,154.2031" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="33.5098" x="365.3491" y="113.4355">prog*</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="52.1426" x="365.3491" y="127.4043">progSize</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="46.8867" x="365.3491" y="141.373">regFile*</text><rect fill="none" height="564.5854" style="stroke:#000000;stroke-width:1.5;" width="476.5161" x="11" y="164.2031"/><path d="M114.0166,164.2031 L114.0166,173.5 L104.0166,183.5 L11,183.5" fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.0166" x="14" y="178.1982">ISA simulator</text><rect fill="#F1F1F1" height="47.9375" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="157.8828" x="312.479" y="200.5"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="137.8828" x="322.479" y="221.6387">Allocate stack memory</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="85.8457" x="322.479" y="235.6074">Initialise stack</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="60.9336" x="360.9536" y="268.4375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="40.9336" x="370.9536" y="289.5762">PC = 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="116.832" x="333.0044" y="378.1167"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="96.832" x="343.0044" y="399.2554">Load instruction</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="100.8711" x="340.9849" y="432.0854"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="80.8711" x="350.9849" y="453.2241">Increment PC</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="133.6016" x="324.6196" y="486.0542"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="113.6016" x="334.6196" y="507.1929">Decode Instruction</text><path d="M39,530.0229 L39,640.8198 A0,0 0 0 0 39,640.8198 L303.3247,640.8198 A0,0 0 0 0 303.3247,640.8198 L303.3247,589.4214 L323.3247,585.4214 L303.3247,581.4214 L303.3247,540.0229 L293.3247,530.0229 L39,530.0229 A0,0 0 0 0 39,530.0229" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M293.3247,530.0229 L293.3247,540.0229 L303.3247,540.0229 L293.3247,530.0229" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113.0898" x="45" y="547.0898">Main component:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231.1182" x="45" y="562.2227">Switches over decoded instructions</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243.3247" x="45" y="577.3555">and perform operations that changes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.7354" x="45" y="592.4883">program state e.g:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234.0381" x="45" y="607.6211">ALU operations, branch, load, store.</text><line style="stroke:#181818;stroke-width:1;" x1="39" x2="303.3247" y1="615.687" y2="615.687"/><line style="stroke:#181818;stroke-width:1;" x1="39" x2="303.3247" y1="617.687" y2="617.687"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113.9658" x="45" y="632.7539">Can exit early via</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="30.3354" x="163.0981" y="632.7539">ecall</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73.4868" x="197.5659" y="632.7539">instruction.</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="136.1914" x="323.3247" y="568.437"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="116.1914" x="333.3247" y="589.5757">Execute instruction</text><polygon fill="#F1F1F1" points="349.3406,322.4063,433.5002,322.4063,445.5002,334.4063,433.5002,346.4063,349.3406,346.4063,337.3406,334.4063,349.3406,322.4063" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19.2178" x="395.4204" y="356.6167">Yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="84.1597" x="349.3406" y="338.2144">PC &lt; progSize?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14.9585" x="322.3821" y="331.812">No</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="136.2266" x="323.3071" y="682.8198"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="116.2266" x="333.3071" y="703.9585">Free stack memory</text><polygon fill="#F1F1F1" points="343.7183,748.7886,439.1226,748.7886,449.1226,779.7417,439.1226,810.6948,343.7183,810.6948" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="33.5098" x="353.7183" y="769.9272">prog*</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="46.8867" x="353.7183" y="783.896">regFile*</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="75.4043" x="353.7183" y="797.8647">returnStatus</text><rect fill="none" height="70.2969" style="stroke:#000000;stroke-width:1.5;" width="54.9795" x="363.9307" y="821.4966"/><path d="M408.9102,821.4966 L408.9102,830.7935 L398.9102,840.7935 L363.9307,840.7935" fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34.9795" x="366.9307" y="835.4917">main</text><ellipse cx="391.4204" cy="868.7935" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="391.4204" cy="868.7935" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="391.4204" x2="391.4204" y1="60.2969" y2="92.2969"/><polygon fill="#181818" points="387.4204,82.2969,391.4204,92.2969,395.4204,82.2969,391.4204,86.2969" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="391.4204" x2="391.4204" y1="248.4375" y2="268.4375"/><polygon fill="#181818" points="387.4204,258.4375,391.4204,268.4375,395.4204,258.4375,391.4204,262.4375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="391.4204" x2="391.4204" y1="412.0854" y2="432.0854"/><polygon fill="#181818" points="387.4204,422.0854,391.4204,432.0854,395.4204,422.0854,391.4204,426.0854" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="391.4204" x2="391.4204" y1="466.0542" y2="486.0542"/><polygon fill="#181818" points="387.4204,476.0542,391.4204,486.0542,395.4204,476.0542,391.4204,480.0542" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="391.4204" x2="391.4204" y1="520.0229" y2="568.437"/><polygon fill="#181818" points="387.4204,558.437,391.4204,568.437,395.4204,558.437,391.4204,562.437" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="391.4204" x2="391.4204" y1="346.4063" y2="378.1167"/><polygon fill="#181818" points="387.4204,368.1167,391.4204,378.1167,395.4204,368.1167,391.4204,372.1167" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="391.4204" x2="391.4204" y1="602.4058" y2="650.8198"/><line style="stroke:#181818;stroke-width:1;" x1="391.4204" x2="471.5161" y1="650.8198" y2="650.8198"/><polygon fill="#181818" points="467.5161,498.5659,471.5161,488.5659,475.5161,498.5659,471.5161,494.5659" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="471.5161" x2="471.5161" y1="334.4063" y2="650.8198"/><line style="stroke:#181818;stroke-width:1;" x1="471.5161" x2="445.5002" y1="334.4063" y2="334.4063"/><polygon fill="#181818" points="455.5002,330.4063,445.5002,334.4063,455.5002,338.4063,451.5002,334.4063" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="337.3406" x2="27" y1="334.4063" y2="334.4063"/><polygon fill="#181818" points="23,484.5659,27,494.5659,31,484.5659,27,488.5659" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="27" x2="27" y1="334.4063" y2="662.8198"/><line style="stroke:#181818;stroke-width:1;" x1="27" x2="391.4204" y1="662.8198" y2="662.8198"/><line style="stroke:#181818;stroke-width:1;" x1="391.4204" x2="391.4204" y1="662.8198" y2="682.8198"/><polygon fill="#181818" points="387.4204,672.8198,391.4204,682.8198,395.4204,672.8198,391.4204,676.8198" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="391.4204" x2="391.4204" y1="302.4063" y2="322.4063"/><polygon fill="#181818" points="387.4204,312.4063,391.4204,322.4063,395.4204,312.4063,391.4204,316.4063" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="391.4204" x2="391.4204" y1="154.2031" y2="200.5"/><polygon fill="#181818" points="387.4204,190.5,391.4204,200.5,395.4204,190.5,391.4204,194.5" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="391.4204" x2="391.4204" y1="716.7886" y2="748.7886"/><polygon fill="#181818" points="387.4204,738.7886,391.4204,748.7886,395.4204,738.7886,391.4204,742.7886" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="391.4204" x2="391.4204" y1="810.6948" y2="857.7935"/><polygon fill="#181818" points="387.4204,847.7935,391.4204,857.7935,395.4204,847.7935,391.4204,851.7935" style="stroke:#181818;stroke-width:1;"/><!--SRC=[PL9DRy8m3BtdLrXSW0dHdIam8JOa93OXLJlicAM6HalYAadvsCH_dmD50j535TlFVixBoxfHHuC2eD2sDWZBOWP1syR8I5wWA-4CW6ucH2qz1veSTApKhWD_t1SYPyL9Y57jQViaqh_GloWyRXVQu5CEux5sTHEdqxiHTqoNMQEPCQHan3HL_O15I_x8XQNZ9cbqQ2jv0g_dC87dNEmhfe4UXsEuih_qGGVeVM7eCvJ1Av8bQ1UYRrJYpo_ffLCUBRe8wtcRUaL59GlnW7qxe6fujuSfZZXhS1FF4S0xYmEAR4sE9u_QRB7NKLKOW7ReeJoptAqKMg1aqMlq6_8MY0_oN8HOoGYgacwBLsIwhPSsQS8Ru71xvPgjFczQ1_3jfLFL00ohC60uUHosq0b_xN4k7U11Hq3fpH5sMaAMePB6PDdjefVMv8rqysIIzWa-AAazMdYyVy7ynXzNM_0XDjuLl7eJaaUeYOyckVKPrUBq3m00]--></g></svg>