@startuml

/' Meta-data
2025-11-25
MVP SoftSimRun flow diagram
'/

partition "main" {
  start
}

:prog*
progSize
regFile*; <<input>>

partition "simSoftRun" {
  :PC = 0;
while (PC < progSize?) is (Yes)
    :Instruction fetch;
    :Increment PC;
    :Decode instruction type;
    :Decode registers;
    :Generate immediate;
    :Execute instruction;
    note left
      Main component:
      Switches over decoded instructions
      and perform operations that changes
      program state e.g:
      ALU operations, branch, load, store.
      Can change PC on jump or branch instructions.
      ====
      Can exit via //ecall// instruction.
    end note
endwhile (No)
  :Return with status value;
}

:prog*
regFile*
returnStatus; <<output>>

partition "main" {
  stop
}

@enduml
